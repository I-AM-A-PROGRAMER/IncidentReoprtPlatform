<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Incident Platform</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>

<body data-page="dashboard">

<!-- Toast -->
<div id="toast" class="toast"></div>

<!-- Header -->
<header class="topbar">
  <div class="left">Hi, <span id="userName">User</span></div>
  <button id="logoutBtn" class="logout">Logout</button>
</header>

<!-- HERO CARD -->
<section class="hero-card">
  <h1 id="heroText"></h1>
  <button id="openModalBtn" class="primary-btn">Report Incident</button>
</section>

<!-- USER INCIDENTS -->
<section class="card">
  <h2>Your & Nearby Incidents</h2>

  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
        <th>City</th>
        <th>Media</th>
        <th>Time</th>
        <th>Status</th>
        <th>Verified</th>
      </tr>
    </thead>
    <tbody id="userTable"></tbody>
  </table>
</section>

<!-- ADMIN SECTION -->
<section id="adminSection" class="card hidden">
  <h2>Admin Controls</h2>

  <!-- Analytics -->
  <div class="analytics">
    <div class="stat">
      <span id="totalCount">0</span>
      <p>Total Reports</p>
    </div>
    <div class="stat">
      <span id="openCount">0</span>
      <p>Open</p>
    </div>
    <div class="stat">
      <span id="resolvedCount">0</span>
      <p>Resolved</p>
    </div>
  </div>

  <!-- Admin Table -->
  <table>
    <thead>
      <tr>
        <th>User</th>
        <th>Type</th>
        <th>City</th>
        <th>Description</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="adminTable"></tbody>
  </table>
</section>

<!-- REPORT MODAL -->
<div id="modal" class="modal hidden">
  <div class="modal-box">
    <h3>Report Incident</h3>

    <select id="incidentType">
      <option>Accident</option>
      <option>Fire</option>
      <option>Infrastructure</option>
      <option>Medical</option>
    </select>

    <textarea id="incidentDesc" placeholder="Describe the incident"></textarea>

    <select id="incidentState">
      <option>Odisha</option>
      <option>Delhi</option>
      <option>Maharashtra</option>
      <option>Karnataka</option>
      <option>Tamil Nadu</option>
      <option>West Bengal</option>
    </select>

    <input id="incidentCity" placeholder="City" />
    <input id="incidentAddress" placeholder="Exact Address" />

    <input type="file" id="incidentFile" />

    <div class="modal-actions">
      <button id="submitIncident" class="primary-btn">Submit</button>
      <button id="closeModal" class="secondary-btn">Cancel</button>
    </div>
  </div>
</div>

<!-- JS -->
<script src="app.js"></script>
</body>
</html>
